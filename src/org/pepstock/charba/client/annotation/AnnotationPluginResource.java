/**
    Copyright 2017 Andrea "Stock" Stocchero

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

	    http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
*/
package org.pepstock.charba.client.annotation;

import org.pepstock.charba.client.resources.AbstractInjectableResource;
import org.pepstock.charba.client.resources.ResourceName;

/**
 * Contains the content of <code>chartjs-plugin-annotation.min.js</code> to inject.<br>
 * 
 * @author Andrea "Stock" Stocchero
 *
 */
public final class AnnotationPluginResource extends AbstractInjectableResource {

	// encoded javascript content of chartjs-plugin-annotation.min.js
	private static final String[] CONTENT = { "/*!", "* chartjs-plugin-annotation v1.0.0-beta.3", "* undefined", " * (c) 2021 chartjs-plugin-annotation Contributors", " * Released under the MIT License", " */",
			"!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e(require(\"chart.js\"),require(\"chart.js/helpers\")):\"function\"==typeof define&&define.amd?define([\"chart.js\",\"chart.js/helpers\"],e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self)[\"chartjs-plugin-annotation\"]=e(t.Chart,t.Chart.helpers)}(this,(function(t,e){\"use strict\";const n=Math.PI,o=n/2;function i(t,n,o){return n=\"string\"==typeof(n=a(t.chart,n))?t.parse(n):n,e.isFinite(n)?t.getPixelForValue(n):o}function a(t,n){return\"function\"==typeof n?e.callback(n,[{chart:t}]):n}function r(t,e,i,a,r,s){if(t.beginPath(),s){const l=Math.min(s,r/2,a/2),c=e+l,d=i+l,h=e+a-l,u=i+r-l;t.moveTo(e,d),c<h&&d<u?(t.arc(c,d,l,-n,-o),t.arc(h,d,l,-o,0),t.arc(h,u,l,0,o),t.arc(c,u,l,o,n)):c<h?(t.moveTo(c,i),t.arc(h,d,l,-o,o),t.arc(c,d,l,o,n+o)):d<u?(t.arc(c,d,l,-n,0),t.arc(c,u,l,0,n)):t.arc(c,d,l,-n,n),t.closePath(),t.moveTo(e,i)}else t.rect(e,i,a,r)}const s=[\"click\",\"dblclick\"],l=[\"enter\",\"leave\"",
			"],c=s.concat(l);function d(t,e,n,o){if(e.listened)switch(n.type){case\"mousemove\":case\"mouseout\":!function(t,e,n){if(!e.moveListened)return;let o;\"mousemove\"===n.type&&(o=u(e.elements,n));const i=e.hovered;e.hovered=o,function(t,e,n,o){n&&n!==o&&h(t,e,n.options.leave||e.listeners.leave,n);o&&o!==n&&h(t,e,o.options.enter||e.listeners.enter,o)}(t,e,i,o)}(t,e,n);break;case\"click\":!function(t,e,n,o){const i=e.listeners,a=u(e.elements,n);if(a){const n=a.options,r=n.dblclick||i.dblclick,s=n.click||i.click;a.clickTimeout?(clearTimeout(a.clickTimeout),delete a.clickTimeout,h(t,e,r,a)):r?a.clickTimeout=setTimeout((()=>{delete a.clickTimeout,h(t,e,s,a)}),o.dblClickSpeed):h(t,e,s,a)}}(t,e,n,o)}}function h(t,n,o,i){e.callback(o,[{chart:t,element:i}])}function u(t,n){let o=Number.POSITIVE_INFINITY;return t.filter((t=>t.inRange(n.x,n.y))).reduce(((t,i)=>{const a=i.getCenterPoint(),r=e.distanceBetweenPoints(n,a);return r<o?(t=[i],o=r):r===o&&t.push(i),t}),[]).sort(((t,e)=>t._index-e._index)).sl",
			"ice(0,1)[0]}class f extends t.Element{inRange(t,e,n){const{x:o,y:i,width:a,height:r}=this.getProps([\"x\",\"y\",\"width\",\"height\"],n);return t>=o&&t<=o+a&&e>=i&&e<=i+r}getCenterPoint(t){const{x:e,y:n,width:o,height:i}=this.getProps([\"x\",\"y\",\"width\",\"height\"],t);return{x:e+o/2,y:n+i/2}}draw(t){const{x:e,y:n,width:o,height:i,options:a}=this;t.save(),t.lineWidth=a.borderWidth,t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,r(t,e,n,o,i,a.cornerRadius),t.fill(),t.stroke(),t.restore()}resolveElementProperties(t,e){const n=t.scales[e.xScaleID],o=t.scales[e.yScaleID];let a,r,{top:s,left:l,bottom:c,right:d}=t.chartArea;return n||o?(n&&(a=i(n,e.xMin,l),r=i(n,e.xMax,d),l=Math.min(a,r),d=Math.max(a,r)),o&&(a=i(o,e.yMin,c),r=i(o,e.yMax,s),s=Math.min(a,r),c=Math.max(a,r)),{x:l,y:s,x2:d,y2:c,width:d-l,height:c-s}):{options:{}}}}f.id=\"boxAnnotation\",f.defaults={display:!0,borderWidth:1,cornerRadius:0},f.defaultRoutes={borderColor:\"color\",backgroundColor:\"color\"};const x=Math.",
			"PI,y=(t,e,n)=>({x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)});class m extends t.Element{intersects(t,e,n){n=n||.001;const o=this,i={x:o.x,y:o.y},a={x:o.x2,y:o.y2},r=((t,e,n)=>y(e,n,Math.abs((t-e.x)/(n.x-e.x))).y)(t,i,a),s=((t,e,n)=>y(e,n,Math.abs((t-e.y)/(n.y-e.y))).x)(e,i,a);return(!isFinite(r)||Math.abs(e-r)<n)&&(!isFinite(s)||Math.abs(t-s)<n)}labelIsVisible(){const t=this.options.label;return t&&t.enabled&&t.content}isOnLabel(t,e){const{labelRect:n}=this;if(!n)return!1;const{x:o,y:i}=(a={x:t,y:e},r=n,s=-n.rotation,l=Math.cos(s),c=Math.sin(s),d=r.x,h=r.y,{x:d+l*(a.x-d)-c*(a.y-h),y:h+c*(a.x-d)+l*(a.y-h)});var a,r,s,l,c,d,h;const u=n.width/2,f=n.height/2;return o>=n.x-u&&o<=n.x+u&&i>=n.y-f&&i<=n.y+f}inRange(t,e){const n=this.options.borderWidth||1;return this.intersects(t,e,n)||this.isOnLabel(t,e)}getCenterPoint(){return{x:(this.x2+this.x)/2,y:(this.y2+this.y)/2}}draw(t){const{x:e,y:n,x2:o,y2:i,options:a}=this;t.save(),t.lineWidth=a.borderWidth,t.strokeStyle=a.borderColor,t.setLineDash&&t.setLi",
			"neDash(a.borderDash),t.lineDashOffset=a.borderDashOffset,t.beginPath(),t.moveTo(e,n),t.lineTo(o,i),t.stroke(),t.restore()}drawLabel(t,n){this.labelIsVisible()&&(t.save(),function(t,n,o){const i=n.options.label;t.font=e.toFontString(i.font),t.textAlign=\"center\";const{width:a,height:s}=function(t,n){const o=n.content,i=e.isArray(o)?o:[o],a=i.length;let r=0;for(let e=0;e<a;e++){const n=i[e];p.has(n)||p.set(n,t.measureText(n).width),r=Math.max(r,p.get(n))}return r+=2*n.xPadding,{width:r,height:a*n.font.size+(a+1)*n.yPadding}}(t,i),l=n.labelRect=function(t,n,o,i){const a=t.options.label,{xAdjust:r,yAdjust:s,xPadding:l,yPadding:c,position:d}=a,h={x:t.x,y:t.y},u={x:t.x2,y:t.y2},f=\"auto\"===a.rotation?function(t){const{x:e,y:n,x2:o,y2:i}=t,a=Math.atan2(i-n,o-e);return a>x/2?a-x:a<x/-2?a+x:a}(t):e.toRadians(a.rotation),m=function(t,e,n){const o=Math.cos(n),i=Math.sin(n);return{w:Math.abs(t*o)+Math.abs(e*i),h:Math.abs(t*i)+Math.abs(e*o)}}(n,o,f),p=function(t,e,n,o){let i=.5;const a=function(t,",
			"e){const{x:n,x2:o,y:i,y2:a}=t,r=Math.min(i,a)-e.top,s=Math.min(n,o)-e.left,l=e.bottom-Math.max(i,a),c=e.right-Math.max(n,o);return{x:Math.min(s,c),y:Math.min(r,l),dx:s<c?1:-1,dy:r<l?1:-1}}(t,o),r=t.options.label;\"start\"===e?i=b({w:t.x2-t.x,h:t.y2-t.y},n,r,a):\"end\"===e&&(i=1-b({w:t.x-t.x2,h:t.y-t.y2},n,r,a));return i}(t,d,m,i),w=y(h,u,p),M={size:m.w,min:i.left,max:i.right,padding:l},v={size:m.h,min:i.top,max:i.bottom,padding:c};return{x:g(w.x,M)+r,y:g(w.y,v)+s,width:n,height:o,rotation:f}}(n,a,s,o);if(t.translate(l.x,l.y),t.rotate(l.rotation),t.fillStyle=i.backgroundColor,r(t,-a/2,-s/2,a,s,i.cornerRadius),t.fill(),t.fillStyle=i.font.color,e.isArray(i.content)){let e=-s/2+i.yPadding;for(let n=0;n<i.content.length;n++)t.textBaseline=\"top\",t.fillText(i.content[n],-a/2+a/2,e),e+=i.font.size+i.yPadding}else t.textBaseline=\"middle\",t.fillText(i.content,0,0)}(t,this,n),t.restore())}resolveElementProperties(t,e){const n=t.scales[e.scaleID];let o,a,{top:r,left:s,bottom:l,right:c}=t.chartA",
			"rea;if(n)o=i(n,e.value,NaN),a=i(n,e.endValue,o),n.isHorizontal()?(s=o,c=a):(r=o,l=a);else{const n=t.scales[e.xScaleID],o=t.scales[e.yScaleID];n&&(s=i(n,e.xMin,s),c=i(n,e.xMax,c)),o&&(r=i(o,e.yMin,r),l=i(o,e.yMax,l))}return{x:s,y:r,x2:c,y2:l,width:c-s,height:l-r}}}m.id=\"lineAnnotation\",m.defaults={display:!0,borderDash:[],borderDashOffset:0,label:{backgroundColor:\"rgba(0,0,0,0.8)\",font:{family:t.defaults.font.family,size:t.defaults.font.size,style:\"bold\",color:\"#fff\"},xPadding:6,yPadding:6,rotation:0,cornerRadius:6,position:\"center\",xAdjust:0,yAdjust:0,enabled:!1,content:null}};const p=new Map;function b(t,e,n,o){const{xPadding:i,yPadding:a}=n,r=t.w*o.dx,s=t.h*o.dy,l=r>0&&(e.w/2+i-o.x)/r,c=s>0&&(e.h/2+a-o.y)/s;return Math.max(Math.min(Math.max(l,c),.25),0)}function g(t,e){const{size:n,min:o,max:i,padding:a}=e,r=n/2;return n>i-o?(i+o)/2:(o>=t-a-r&&(t=o+a+r),i<=t+a+r&&(t=i-a-r),t)}class w extends f{inRange(t,e){return function(t,e){const{width:n,height:o}=e,i=e.getCenterPoint(!0)",
			",a=n/2,r=o/2;if(a<=0||r<=0)return!1;return Math.pow(t.x-i.x,2)/Math.pow(a,2)+Math.pow(t.y-i.y,2)/Math.pow(r,2)<=1}({x:t,y:e},this)}draw(t){const{width:e,height:n,options:o}=this,i=this.getCenterPoint(!0);t.save(),t.beginPath(),t.lineWidth=o.borderWidth,t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,t.ellipse(i.x,i.y,n/2,e/2,Math.PI/2,0,2*Math.PI),t.fill(),t.stroke(),t.restore()}}w.id=\"ellipseAnnotation\",w.defaults={display:!0,borderWidth:1},w.defaultRoutes={borderColor:\"color\",backgroundColor:\"color\"};class M extends t.Element{inRange(t,e){const{width:n,options:o}=this,i=this.getCenterPoint(!0),a=n/2+o.borderWidth;return!(a<=0)&&Math.pow(t-i.x,2)+Math.pow(e-i.y,2)<=Math.pow(a,2)}getCenterPoint(t){const{x:e,y:n}=this.getProps([\"x\",\"y\"],t);return{x:e,y:n}}draw(t){const{x:e,y:n,width:o,options:i}=this;t.save(),t.lineWidth=i.borderWidth,t.strokeStyle=i.borderColor,t.fillStyle=i.backgroundColor,t.beginPath(),t.arc(e,n,o/2,0,2*Math.PI),t.fill(),t.stroke(),t.restore()}reso",
			"lveElementProperties(t,e){const{chartArea:n,scales:o}=t,a=o[e.xScaleID],r=o[e.yScaleID];let s=n.width/2,l=n.height/2;return a&&(s=i(a,e.xValue,s)),r&&(l=i(r,e.yValue,l)),{x:s,y:l,width:2*e.radius,height:2*e.radius}}}M.id=\"pointAnnotation\",M.defaults={display:!0,borderWidth:1,radius:10,xScaleID:\"x\",yScaleID:\"y\"},M.defaultRoutes={borderColor:\"color\",backgroundColor:\"color\"};const v=new Map,P={box:f,line:m,ellipse:w,point:M};var k={id:\"annotation\",afterRegister(){t.Chart.register(P)},afterUnregister(){t.Chart.unregister(P)},beforeInit(t){v.set(t,{elements:[],listeners:{},listened:!1,moveListened:!1,scales:new Set})},afterDataLimits(t,n,o){!function(t,n,o){const i=function(t,e){if(e.annotations&&e.annotations.length)return e.annotations.filter((e=>I(t,e)));return[]}(t,o),r=function(t,n){const o=t.axis,i=t.id,r=t.axis+\"ScaleID\",s=n.filter((t=>t[r]===i||t.scaleID===i));let l=e.valueOrDefault(t.min,Number.NEGATIVE_INFINITY),c=e.valueOrDefault(t.max,Number.POSITIVE_INFINITY);retur",
			"n s.forEach((e=>{[\"value\",\"endValue\",o+\"Min\",o+\"Max\",o+\"Value\"].forEach((n=>{if(n in e){const o=a(t.chart,e[n]);l=Math.min(l,o),c=Math.max(c,o)}}))})),{min:l,max:c}}(n,i);let s=!1;e.isFinite(r.min)&&void 0===n.options.min&&void 0===n.options.suggestedMin&&(s=n.min!==r.min,n.min=r.min);e.isFinite(r.max)&&void 0===n.options.max&&void 0===n.options.suggestedMax&&(s=n.max!==r.max,n.max=r.max);s&&\"function\"==typeof n.handleTickRangeOptions&&n.handleTickRangeOptions()}(t,n.scale,o)},beforeUpdate(t,n,o){if(e.isObject(o.annotations)){const t=new Array;Object.keys(o.annotations).forEach((n=>{const i=o.annotations[n];e.isObject(i)&&(i.id=n,t.push(i))})),o.annotations=t}},afterUpdate(n,o,i){const a=v.get(n);!function(t,e,n){const o=n.annotations||[];e.listened=!1,e.moveListened=!1,c.forEach((t=>{\"function\"==typeof n[t]&&(e.listened=!0,e.listeners[t]=n[t])})),l.forEach((t=>{\"function\"==typeof n[t]&&(e.moveListened=!0)})),e.listened&&e.moveListened||o.forEach((t=>{e.listened||s.forEa",
			"ch((n=>{\"function\"==typeof t[n]&&(e.listened=!0)})),e.moveListened||l.forEach((n=>{\"function\"==typeof t[n]&&(e.listened=!0,e.moveListened=!0)}))}))}(0,a,i),function(n,o,i,a){const r=n.options.animation,s=r&&e.merge({},[r,i.animation]),l=function(e,n,o){if(\"reset\"===o||\"none\"===o||\"resize\"===o)return D;return new t.Animations(e,n)}(n,s,a),c=i.annotations||[],d=function(t,e){const n=e.length,o=t.length;if(o<n){const e=n-o;t.splice(o,0,...new Array(e))}else o>n&&t.splice(n,o-n);return t}(o.elements,c);for(let t=0;t<c.length;t++){const o=c[t];let i=d[t];const a=P[o.type]||P.line;i&&i instanceof a||(i=d[t]=new a);const r=i.resolveElementProperties(n,o);r.options=e.merge(Object.create(null),[a.defaults,o]),l.update(i,r),i._display=I(n,o,i)}}(n,a,i,o.mode)},beforeDatasetsDraw(t,e,n){T(t,n,\"beforeDatasetsDraw\")},afterDatasetsDraw(t,e,n){T(t,n,\"afterDatasetsDraw\")},beforeDraw(t,e,n){T(t,n,\"beforeDraw\")},afterDraw(t,e,n){T(t,n,\"afterDraw\")},beforeEvent(t,e,n){d(t,v.get(t),e.even",
			"t,n)},destroy(t){v.delete(t)},_getState:t=>v.get(t),defaults:{drawTime:\"afterDatasetsDraw\",dblClickSpeed:350,annotations:{},animation:{numbers:{properties:[\"x\",\"y\",\"x2\",\"y2\",\"width\",\"height\"],type:\"number\"}}}};const D={update:Object.assign};function I(t,n,o){return!!(\"function\"==typeof n.display?e.callback(n.display,[{chart:t,element:o}]):e.valueOrDefault(n.display,!0))}function T(t,n,o){const{ctx:i,chartArea:a}=t,r=v.get(t).elements.filter((t=>t._display));e.clipArea(i,a),r.forEach((t=>{(t.options.drawTime||n.drawTime||o)===o&&t.draw(i)})),e.unclipArea(i),r.forEach((t=>{\"drawLabel\"in t&&t.options.label&&(t.options.label.drawTime||t.options.drawTime||n.drawTime||o)===o&&t.drawLabel(i,a)}))}return t.Chart.register(k),k}));",
			"//# sourceMappingURL=chartjs-plugin-annotation.min.js.map" };

	/**
	 * Creates the injectable resource with <code>chartjs-plugin-annotation.min.js</code> content.
	 */
	AnnotationPluginResource() {
		super(ResourceName.ANNOTATION_PLUGIN, CONTENT);
	}

}
